(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),a=e.i(71645);function l({userId:e}){let[l,s]=(0,a.useState)(null),[r,n]=(0,a.useState)([]),[i,d]=(0,a.useState)(!0),[o,c]=(0,a.useState)("");return((0,a.useEffect)(()=>{let t=async()=>{try{let t=await fetch(`/api/user?id=${e}`);t.ok&&s(await t.json());let a=await fetch("/api/loyalty/rewards");a.ok&&n(await a.json())}catch(e){c("Failed to load data"),console.error(e)}finally{d(!1)}};e&&t()},[e]),i)?(0,t.jsx)("div",{className:"flex justify-center items-center h-screen",children:"â³ YÃ¼kleniyor..."}):o?(0,t.jsxs)("div",{className:"text-red-600 text-center p-4",children:["âŒ ",o]}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[l&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-6 mb-6 shadow-lg",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:l.name}),(0,t.jsx)("p",{className:"text-lg opacity-90",children:l.email}),(0,t.jsxs)("div",{className:"mt-4 text-2xl font-bold",children:["â­ ",l.loyaltyPoint?.points||0," Puan"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"ðŸ† BaÅŸarÄ±labilir Ã–dÃ¼ller"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(e=>(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-4 shadow hover:shadow-lg transition",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-2",children:e.title}),(0,t.jsxs)("p",{className:"text-gray-600 mb-4",children:["ðŸ’° ",e.costPoints," Puan Gerekli"]}),(0,t.jsx)("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:opacity-50",children:"Talep Et"})]},e.id))})]}),l?.rewardClaims&&l.rewardClaims.length>0&&(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"ðŸ“œ GeÃ§miÅŸ Talepler"}),(0,t.jsx)("div",{className:"space-y-2",children:l.rewardClaims.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"bg-gray-100 rounded p-3 flex justify-between items-center",children:[(0,t.jsx)("span",{children:e.reward.title}),(0,t.jsx)("span",{className:"text-green-600 font-bold",children:"âœ“"})]},e.id))})]})]})}function s({userId:e}){let[l,s]=(0,a.useState)(!1),[r,n]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),o=async()=>{if(!i.trim())return void n("âŒ Tag verisi girin");s(!0);try{let t=await fetch("/api/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,tagData:i,metadata:{timestamp:new Date().toISOString()}})}),a=await t.json();t.ok?(n(`âœ… ${a.message}`),d("")):n(`âŒ ${a.error}`)}catch(e){n("âŒ Scan hatasÄ±"),console.error(e)}finally{s(!1)}};return(0,t.jsxs)("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"ðŸ“± Tag Okut"}),(0,t.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"NFC/QR tag verisini yapÄ±ÅŸtÄ±r...",className:"w-full border rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:l}),(0,t.jsx)("button",{onClick:o,disabled:l||!i.trim(),className:"w-full bg-blue-500 hover:bg-blue-600 disabled:opacity-50 text-white font-bold py-2 px-4 rounded",children:l?"ðŸ”„ Ä°ÅŸleniyor...":"ðŸ“¡ Okut"}),r&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-100 rounded text-center",children:r})]})}function r(){let[e,l]=(0,a.useState)("light"),[s,r]=(0,a.useState)("tr");(0,a.useEffect)(()=>{let e=localStorage.getItem("theme"),t=localStorage.getItem("language");e&&l(e),t&&r(t)},[]);let n=e=>{l(e),localStorage.setItem("theme",e),document.documentElement.className="dark"===e?"dark":""},i=e=>{r(e),localStorage.setItem("language",e)},d={tr:{theme:"Tema",language:"Dil",light:"AÃ§Ä±k",dark:"Koyu",turkish:"TÃ¼rkÃ§e",english:"English"},en:{theme:"Theme",language:"Language",light:"Light",dark:"Dark",turkish:"Turkish",english:"English"}}[s];return(0,t.jsxs)("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg space-y-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold",children:["âš™ï¸ ",d.theme]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2",children:d.theme}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("button",{onClick:()=>n("light"),className:`flex-1 py-2 px-4 rounded font-bold transition ${"light"===e?"bg-yellow-400 text-black":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["â˜€ï¸ ",d.light]}),(0,t.jsxs)("button",{onClick:()=>n("dark"),className:`flex-1 py-2 px-4 rounded font-bold transition ${"dark"===e?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["ðŸŒ™ ",d.dark]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2",children:d.language}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("button",{onClick:()=>i("tr"),className:`flex-1 py-2 px-4 rounded font-bold transition ${"tr"===s?"bg-red-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["ðŸ‡¹ðŸ‡· ",d.turkish]}),(0,t.jsxs)("button",{onClick:()=>i("en"),className:`flex-1 py-2 px-4 rounded font-bold transition ${"en"===s?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["ðŸ‡¬ðŸ‡§ ",d.english]})]})]})]})}function n(){let[e,n]=(0,a.useState)("user-1"),[i,d]=(0,a.useState)("dashboard");return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[(0,t.jsx)("header",{className:"bg-white shadow",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"ðŸ† Dokuntag Loyalty System"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Puanla, TarayÄ±cÄ±, Ã–dÃ¼l Talep Et"})]})}),(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2",children:"ðŸ‘¤ Test KullanÄ±cÄ± SeÃ§"}),(0,t.jsxs)("select",{value:e,onChange:e=>n(e.target.value),className:"w-full md:w-64 border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"user-1",children:"Alice Johnson (1000 puan)"}),(0,t.jsx)("option",{value:"user-2",children:"Bob Smith (500 puan)"}),(0,t.jsx)("option",{value:"user-3",children:"Charlie Brown (250 puan)"})]})]})}),(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,t.jsx)("div",{className:"flex gap-2 mb-6 border-b",children:[{id:"dashboard",label:"ðŸ“Š Dashboard"},{id:"scanner",label:"ðŸ“± TarayÄ±cÄ±"},{id:"settings",label:"âš™ï¸ Ayarlar"}].map(e=>(0,t.jsx)("button",{onClick:()=>d(e.id),className:`px-4 py-2 font-bold transition border-b-2 ${i===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-blue-600"}`,children:e.label},e.id))})}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 pb-12",children:["dashboard"===i&&(0,t.jsx)(l,{userId:e}),"scanner"===i&&(0,t.jsx)(s,{userId:e}),"settings"===i&&(0,t.jsx)(r,{})]}),(0,t.jsx)("footer",{className:"bg-gray-800 text-white text-center py-4 mt-12",children:(0,t.jsx)("p",{children:"ðŸš€ Dokuntag 2.0+ | Next.js + Prisma + TypeScript"})})]})}e.s(["default",()=>n],31713)}]);